<project_specification>
  <project_name>BudgetAI - Smart Expense Tracker with AI Categorization</project_name>

  <overview>
    Build a comprehensive personal finance application with AI-powered expense categorization. The application
    leverages Claude API to automatically categorize transactions, analyze spending patterns, and provide
    intelligent budget recommendations. Features include multi-account management, budget tracking, savings
    goals, receipt scanning, and natural language queries for financial insights. The UI should be clean,
    modern, and finance-focused using Tailwind CSS with excellent data visualization and responsive design.
    
    **Use the frontend-design plugin throughout development for component generation, responsive layouts, 
    and design system consistency.**
    
    **IMPORTANT: No emojis should be used anywhere in the application. Use icon libraries (Lucide, Heroicons) 
    for all visual indicators instead.**
  </overview>

  <technology_stack>
    <api_key>
        You can use an API key located at /tmp/api-key for testing. You will not be allowed to read this file, but you can reference it in code.
    </api_key>
    <claude_plugins>
      <frontend_design>
        Leverage the frontend-design plugin for:
        - UI component generation with proper structure
        - Responsive layout implementation
        - Accessibility features (ARIA labels, keyboard navigation)
        - Dark mode implementation
        - Design system consistency
        - Form components with validation UI
      </frontend_design>
    </claude_plugins>
    <frontend>
      <framework>React with Vite</framework>
      <styling>Tailwind CSS (via CDN) - use frontend-design plugin for class organization</styling>
      <icons>Lucide React or Heroicons (NO emojis anywhere in the app)</icons>
      <state_management>React hooks and context</state_management>
      <routing>React Router for navigation</routing>
      <charts>Recharts for financial visualizations</charts>
      <date_handling>date-fns for date manipulation</date_handling>
      <port>Only launch on port {frontend_port}</port>
    </frontend>
    <backend>
      <runtime>Node.js with Express</runtime>
      <database>SQLite with better-sqlite3</database>
      <api_integration>Claude API for AI categorization and insights</api_integration>
      <file_processing>Multer for receipt uploads, csv-parser for imports</file_processing>
    </backend>
    <communication>
      <api>RESTful endpoints</api>
      <streaming>SSE for real-time AI insights generation</streaming>
      <claude_api>Integration with Claude API using Anthropic SDK</claude_api>
    </communication>
  </technology_stack>

  <prerequisites>
    <environment_setup>
      - Repository includes .env with VITE_ANTHROPIC_API_KEY configured
      - Frontend dependencies pre-installed via pnpm
      - Backend code goes in /server directory
      - Install backend dependencies as needed
      - Frontend-design plugin is installed and ready to use
    </environment_setup>
  </prerequisites>

  <core_features>
    <dashboard>
      - Financial health overview with key metrics
      - Net worth calculation (assets - liabilities)
      - Monthly income vs expenses comparison
      - Budget progress indicators for each category
      - Recent transactions list with quick actions
      - Spending trend charts (weekly, monthly, yearly)
      - Upcoming bills and reminders widget
      - Savings goals progress cards
      - AI-generated monthly insights summary
      - Quick transaction entry button
    </dashboard>

    <ai_expense_categorization>
      - Automatic transaction categorization using Claude API
      - Merchant name recognition and mapping
      - Confidence scores for AI predictions (high/medium/low)
      - User correction feedback loop for learning
      - Bulk categorization for imported transactions
      - Smart category suggestions based on description
      - Pattern detection for recurring expenses
      - Anomaly detection for unusual spending
      - Natural language queries ("How much did I spend on coffee this month?")
      - AI-powered spending insights and recommendations
      - Receipt OCR with automatic data extraction
      - Category mapping rules management
    </ai_expense_categorization>

    <transaction_management>
      - Add transactions manually (income/expense/transfer)
      - Transaction list with infinite scroll
      - Advanced filtering (date, category, account, amount range)
      - Search transactions by description, merchant, notes
      - Edit and delete transactions
      - Split transactions across multiple categories
      - Attach receipts/images to transactions
      - Transaction tags for custom organization
      - Bulk edit and categorize
      - Duplicate transaction for recurring entries
      - Transaction templates for frequent expenses
      - Export transactions (CSV, PDF)
    </transaction_management>

    <budget_management>
      - Create monthly budgets by category
      - Visual progress bars with color coding
      - Rollover unspent budget option
      - Budget vs actual comparison
      - AI-suggested budget amounts based on history
      - Budget alerts at thresholds (50%, 75%, 90%, 100%)
      - Historical budget performance tracking
      - Budget templates (conservative, balanced, flexible)
      - Category grouping for budget overview
      - Annual budget planning view
    </budget_management>

    <accounts_management>
      - Multiple account types (checking, savings, credit card, cash, investment)
      - Account balances dashboard
      - Manual balance reconciliation
      - Transfer between accounts
      - Account-specific transaction views
      - Credit card payment tracking
      - Account icons and color coding
      - Archive inactive accounts
      - Starting balance configuration
      - Account groups (e.g., "Personal", "Business")
    </accounts_management>

    <savings_goals>
      - Create savings goals with target amount and date
      - Visual progress tracking with percentage
      - Automatic savings suggestions from AI
      - Allocate funds from transactions to goals
      - Goal categories (Emergency Fund, Vacation, Purchase, etc.)
      - Monthly contribution tracking
      - Goal achievement celebrations
      - Pause/resume goals
      - Goal priority ordering
      - Projected completion date calculator
    </savings_goals>

    <recurring_transactions>
      - Auto-detect recurring patterns with AI
      - Manual recurring transaction setup
      - Frequency options (daily, weekly, bi-weekly, monthly, yearly)
      - Skip next occurrence option
      - Edit series or single instance
      - Upcoming recurring transactions calendar
      - Bill reminder notifications
      - Auto-categorization for recurring items
      - End date or occurrence limit options
    </recurring_transactions>

    <reports_analytics>
      - Spending by category pie chart
      - Income vs expense bar charts
      - Spending trends over time (line charts)
      - Category comparison month-over-month
      - Cash flow statement
      - Net worth trend over time
      - Top spending categories ranking
      - Merchant spending analysis
      - Day of week spending patterns
      - Custom date range reports
      - Export reports as PDF
      - Year-end financial summary
    </reports_analytics>

    <import_export>
      - CSV import with column mapping
      - Bank statement import (common formats)
      - AI-assisted column detection
      - Duplicate transaction detection
      - Import preview and validation
      - Batch AI categorization on import
      - Export all data (backup)
      - Export to CSV, JSON, PDF formats
      - Import from popular budget apps format
    </import_export>

    <categories_management>
      - Default category hierarchy (Income, Housing, Transportation, etc.)
      - Custom category creation
      - Category icons selection (icon library only - Lucide/Heroicons, NO emojis)
      - Category color assignment
      - Sub-categories support
      - Merge categories
      - Hide unused categories
      - Category spending limits (separate from budgets)
      - Category ordering/priority
    </categories_management>

    <notifications_alerts>
      - Budget threshold alerts
      - Large transaction alerts
      - Bill due reminders
      - Goal milestone notifications
      - Weekly spending summary
      - Unusual activity alerts (AI-powered)
      - Low balance warnings
      - Notification preferences management
      - In-app notification center
    </notifications_alerts>

    <settings_preferences>
      - Theme selection (Light, Dark, Auto)
      - Currency selection and formatting
      - Date format preferences
      - First day of week setting
      - Default account selection
      - AI categorization confidence threshold
      - Notification preferences
      - Data privacy settings
      - Export personal data
      - Delete account and data
      - Language preferences
    </settings_preferences>

    <accessibility>
      - Full keyboard navigation
      - Screen reader support with ARIA labels
      - High contrast mode
      - Focus management
      - Reduced motion support
      - Font size adjustment
      - Color blind friendly palette options
    </accessibility>

    <responsive_design>
      - Mobile-first responsive layout
      - Touch-optimized interface
      - Swipe gestures for transaction actions
      - Bottom navigation on mobile
      - Collapsible sidebar on tablet/desktop
      - Quick add transaction floating button (mobile)
      - Progressive Web App (PWA) support
    </responsive_design>
  </core_features>

  <database_schema>
    <tables>
      <users>
        - id (PRIMARY KEY)
        - email
        - name
        - avatar_url
        - created_at
        - last_login
        - preferences (JSON: theme, currency, date_format, language)
        - notification_settings (JSON)
      </users>

      <accounts>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - name
        - type (checking, savings, credit_card, cash, investment)
        - currency
        - starting_balance
        - current_balance
        - icon
        - color
        - institution_name
        - account_number_last4
        - credit_limit (for credit cards)
        - is_archived
        - created_at
        - updated_at
      </accounts>

      <categories>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - parent_id (FOREIGN KEY, nullable, for subcategories)
        - name
        - type (income, expense)
        - icon
        - color
        - is_system (default categories)
        - is_hidden
        - sort_order
        - created_at
      </categories>

      <transactions>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - account_id (FOREIGN KEY)
        - category_id (FOREIGN KEY)
        - type (income, expense, transfer)
        - amount
        - currency
        - description
        - merchant_name
        - date
        - notes
        - receipt_url
        - is_recurring
        - recurring_id (FOREIGN KEY, nullable)
        - ai_categorized (boolean)
        - ai_confidence (high, medium, low)
        - original_category_id (before user correction)
        - tags (JSON array)
        - transfer_to_account_id (FOREIGN KEY, for transfers)
        - created_at
        - updated_at
      </transactions>

      <budgets>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - category_id (FOREIGN KEY)
        - amount
        - period (monthly, yearly)
        - start_date
        - end_date (nullable for ongoing)
        - rollover_enabled
        - alert_threshold (percentage)
        - created_at
        - updated_at
      </budgets>

      <savings_goals>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - name
        - target_amount
        - current_amount
        - target_date
        - category (emergency, vacation, purchase, retirement, other)
        - icon
        - color
        - priority
        - is_completed
        - is_paused
        - created_at
        - updated_at
      </savings_goals>

      <goal_contributions>
        - id (PRIMARY KEY)
        - goal_id (FOREIGN KEY)
        - transaction_id (FOREIGN KEY, nullable)
        - amount
        - date
        - notes
        - created_at
      </goal_contributions>

      <recurring_transactions>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - account_id (FOREIGN KEY)
        - category_id (FOREIGN KEY)
        - type (income, expense)
        - amount
        - description
        - merchant_name
        - frequency (daily, weekly, bi-weekly, monthly, yearly)
        - start_date
        - end_date (nullable)
        - next_occurrence
        - last_occurrence
        - occurrence_count
        - max_occurrences (nullable)
        - is_active
        - auto_create (boolean)
        - remind_days_before
        - created_at
        - updated_at
      </recurring_transactions>

      <category_rules>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - category_id (FOREIGN KEY)
        - match_type (contains, starts_with, exact, regex)
        - match_value
        - priority
        - is_active
        - created_at
      </category_rules>

      <ai_category_mappings>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - merchant_pattern
        - category_id (FOREIGN KEY)
        - confidence_boost (decimal)
        - usage_count
        - created_at
        - updated_at
      </ai_category_mappings>

      <notifications>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - type (budget_alert, bill_reminder, goal_milestone, large_transaction, weekly_summary)
        - title
        - message
        - data (JSON)
        - is_read
        - created_at
      </notifications>

      <import_history>
        - id (PRIMARY KEY)
        - user_id (FOREIGN KEY)
        - filename
        - source (csv, bank_statement, app_import)
        - transactions_imported
        - transactions_skipped (duplicates)
        - status (completed, failed, partial)
        - error_message
        - created_at
      </import_history>
    </tables>
  </database_schema>

  <api_endpoints>
    <authentication>
      POST /api/auth/register - Create new user
      POST /api/auth/login - User login
      POST /api/auth/logout - User logout
      GET /api/auth/me - Get current user
      PUT /api/auth/profile - Update profile
    </authentication>

    <accounts>
      GET /api/accounts - List all accounts
      POST /api/accounts - Create account
      GET /api/accounts/:id - Get account details
      PUT /api/accounts/:id - Update account
      DELETE /api/accounts/:id - Archive account
      POST /api/accounts/:id/reconcile - Reconcile balance
    </accounts>

    <transactions>
      GET /api/transactions - List transactions (with filters)
      POST /api/transactions - Create transaction
      GET /api/transactions/:id - Get transaction
      PUT /api/transactions/:id - Update transaction
      DELETE /api/transactions/:id - Delete transaction
      POST /api/transactions/bulk - Bulk create/update
      POST /api/transactions/:id/split - Split transaction
      POST /api/transactions/import - Import from CSV
      GET /api/transactions/export - Export transactions
    </transactions>

    <categories>
      GET /api/categories - List categories
      POST /api/categories - Create category
      PUT /api/categories/:id - Update category
      DELETE /api/categories/:id - Delete/hide category
      POST /api/categories/merge - Merge categories
    </categories>

    <budgets>
      GET /api/budgets - List budgets
      POST /api/budgets - Create budget
      PUT /api/budgets/:id - Update budget
      DELETE /api/budgets/:id - Delete budget
      GET /api/budgets/summary - Budget vs actual summary
    </budgets>

    <goals>
      GET /api/goals - List savings goals
      POST /api/goals - Create goal
      PUT /api/goals/:id - Update goal
      DELETE /api/goals/:id - Delete goal
      POST /api/goals/:id/contribute - Add contribution
    </goals>

    <recurring>
      GET /api/recurring - List recurring transactions
      POST /api/recurring - Create recurring
      PUT /api/recurring/:id - Update recurring
      DELETE /api/recurring/:id - Delete recurring
      POST /api/recurring/:id/skip - Skip next occurrence
    </recurring>

    <ai>
      POST /api/ai/categorize - Categorize single transaction
      POST /api/ai/categorize-bulk - Bulk categorization
      POST /api/ai/analyze-receipt - OCR and extract receipt data
      GET /api/ai/insights - Get AI spending insights
      POST /api/ai/query - Natural language query
      GET /api/ai/suggestions - Budget suggestions
      POST /api/ai/detect-patterns - Detect recurring patterns
    </ai>

    <reports>
      GET /api/reports/spending - Spending by category
      GET /api/reports/trends - Spending trends
      GET /api/reports/cashflow - Cash flow report
      GET /api/reports/networth - Net worth over time
      GET /api/reports/merchants - Top merchants
      GET /api/reports/summary - Period summary
    </reports>

    <notifications>
      GET /api/notifications - List notifications
      PUT /api/notifications/:id/read - Mark as read
      PUT /api/notifications/read-all - Mark all as read
      DELETE /api/notifications/:id - Delete notification
    </notifications>
  </api_endpoints>

  <design_system>
    <icon_guidelines>
      **CRITICAL: NO EMOJIS ALLOWED IN THIS APPLICATION**
      - Use Lucide React or Heroicons for ALL icons
      - Category icons: Use appropriate Lucide icons (Home, Car, ShoppingBag, Utensils, etc.)
      - Action icons: Use consistent icon family throughout
      - Status indicators: Use colored dots or icon-based indicators, never emoji
      - Account type icons: Building, CreditCard, Wallet, PiggyBank, TrendingUp
      - Goal icons: Target, Flag, Gift, Plane, ShoppingCart
      - Navigation icons: Use standard icon patterns
    </icon_guidelines>
    
    <plugin_usage>
      **IMPORTANT: Use the frontend-design plugin to generate all UI components following this design system.**
      The plugin should be consulted for:
      - Component structure and semantic HTML
      - Tailwind CSS class organization and patterns
      - Responsive breakpoint implementation
      - Accessibility attributes (ARIA labels, roles, keyboard handlers)
      - Dark mode class variants
      - Animation and transition patterns
      - Form validation UI patterns
    </plugin_usage>
    
    <color_palette>
      <finance_colors>
        - Income/Positive: Emerald-500 (#10B981), Emerald-600 (#059669)
        - Expense/Negative: Rose-500 (#F43F5E), Rose-600 (#E11D48)
        - Transfer/Neutral: Blue-500 (#3B82F6), Blue-600 (#2563EB)
        - Warning: Amber-500 (#F59E0B), Amber-600 (#D97706)
      </finance_colors>
      <light_mode>
        - Background: White (#FFFFFF), Gray-50 (#F9FAFB)
        - Surface: White (#FFFFFF)
        - Border: Gray-200 (#E5E7EB)
        - Text Primary: Gray-900 (#111827)
        - Text Secondary: Gray-600 (#4B5563)
        - Text Muted: Gray-400 (#9CA3AF)
      </light_mode>
      <dark_mode>
        - Background: Gray-950 (#030712), Gray-900 (#111827)
        - Surface: Gray-800 (#1F2937)
        - Border: Gray-700 (#374151)
        - Text Primary: Gray-100 (#F3F4F6)
        - Text Secondary: Gray-400 (#9CA3AF)
        - Text Muted: Gray-500 (#6B7280)
      </dark_mode>
      <category_colors>
        - Housing: Violet-500 (#8B5CF6)
        - Transportation: Sky-500 (#0EA5E9)
        - Food: Orange-500 (#F97316)
        - Shopping: Pink-500 (#EC4899)
        - Entertainment: Purple-500 (#A855F7)
        - Health: Teal-500 (#14B8A6)
        - Bills: Slate-500 (#64748B)
        - Income: Emerald-500 (#10B981)
      </category_colors>
    </color_palette>

    <typography>
      - Font Family: Inter, system-ui, sans-serif
      - Monospace: JetBrains Mono (for amounts)
      - Headings: font-semibold, tracking-tight
      - Body: font-normal, text-base
      - Amount Display: font-mono, tabular-nums
      - Small Text: text-sm, text-gray-600
    </typography>

    <components>
      <transaction_row>
        - Category Lucide icon with color background
        - Merchant/description text (truncate on overflow)
        - Category pill badge
        - Date in relative format ("Today", "Yesterday", "Dec 5")
        - Amount right-aligned with +/- color coding
        - Hover: subtle background, show quick actions
        **USE PLUGIN: Generate with proper accessibility and responsive behavior**
      </transaction_row>

      <budget_progress>
        - Category name with Lucide icon
        - Progress bar with gradient fill
        - Spent vs Budget text
        - Percentage badge (green/yellow/red based on usage)
        - Click to expand for details
        **USE PLUGIN: Generate with animation patterns and ARIA progress attributes**
      </budget_progress>

      <account_card>
        - Account icon (Lucide icon based on type) and name
        - Institution name (subtle)
        - Current balance (large, prominent)
        - Account type badge
        - Last updated timestamp
        **USE PLUGIN: Generate with card patterns and hover states**
      </account_card>

      <goal_card>
        - Goal name with Lucide icon (Target, Flag, etc.)
        - Circular progress indicator
        - Current amount / Target amount
        - Days remaining or projected date
        - Quick contribute button
        **USE PLUGIN: Generate with progress ring animation and accessible labels**
      </goal_card>

      <amount_input>
        - Currency symbol prefix
        - Numeric input with formatting
        - +/- toggle for income/expense
        - Real-time formatting (comma separators)
        **USE PLUGIN: Generate with proper input validation UI**
      </amount_input>

      <category_selector>
        - Grouped by type (Income/Expense)
        - Search/filter categories
        - Recent categories section
        - Lucide icon + name display (no emojis)
        - AI suggestion highlight
        **USE PLUGIN: Generate with combobox pattern and keyboard navigation**
      </category_selector>

      <date_picker>
        - Calendar popup
        - Quick options (Today, Yesterday, Last week)
        - Range selection for filters
        - Month/year navigation
        **USE PLUGIN: Generate with focus management and ARIA datepicker**
      </date_picker>

      <charts>
        - Pie chart: Category breakdown with legend
        - Bar chart: Monthly comparison
        - Line chart: Trend over time
        - Donut chart: Budget utilization
        - Consistent color coding with categories
        **USE PLUGIN: Generate containers with proper responsive behavior**
      </charts>

      <buttons>
        - Primary: Emerald background for positive actions
        - Danger: Rose background for destructive actions
        - Secondary: Border style with hover fill
        - Ghost: Text only with hover background
        - Icon buttons: Rounded with tooltips
        **USE PLUGIN: Generate with consistent styling and focus states**
      </buttons>

      <cards>
        - Rounded corners (12px)
        - Subtle shadow on light, border on dark
        - Padding: p-4 to p-6
        - Header with title and actions
        - Hover state: slight lift
        **USE PLUGIN: Generate with dark mode variants**
      </cards>

      <modals>
        - Centered overlay with backdrop
        - Focus trap for accessibility
        - Escape key to close
        - Slide-up animation on mobile
        - Scale animation on desktop
        **USE PLUGIN: Generate with dialog pattern and focus management**
      </modals>

      <forms>
        - Consistent label positioning
        - Error states with messages
        - Loading states for submit
        - Field validation indicators
        - Required field markers
        **USE PLUGIN: Generate with proper form validation patterns**
      </forms>
    </components>

    <animations>
      - Smooth transitions (150-300ms)
      - Number counting animation for totals
      - Progress bar fill animation
      - Slide in for modals
      - Fade for notifications
      - Skeleton loaders for data
      - Success checkmark animation for goal completion (no confetti/emojis)
      **USE PLUGIN: Implement following motion preference guidelines**
    </animations>
  </design_system>

  <key_interactions>
    <add_transaction_flow>
      1. Click "Add Transaction" button (or use keyboard shortcut)
      2. Modal opens with amount input focused
      3. Enter amount, toggle +/- for income/expense
      4. Select or search account
      5. Type description - AI suggests category in real-time
      6. Accept AI category or select manually
      7. Optional: Add date, notes, tags, receipt
      8. Click Save - transaction added with animation
      9. Dashboard and budgets update immediately
    </add_transaction_flow>

    <ai_categorization_flow>
      1. User imports CSV or enters transaction
      2. AI analyzes description and merchant name
      3. Category assigned with confidence indicator
      4. User sees category pill with AI badge
      5. User can accept (builds learning) or change
      6. If changed, AI records correction for future
      7. Bulk import shows categorization summary
      8. User can review and adjust batch assignments
    </ai_categorization_flow>

    <budget_creation_flow>
      1. Navigate to Budgets section
      2. Click "Create Budget"
      3. Select category (filter available categories)
      4. AI suggests amount based on past spending
      5. User sets budget amount and period
      6. Configure alerts (optional)
      7. Enable rollover (optional)
      8. Save budget - appears in dashboard
    </budget_creation_flow>

    <natural_language_query_flow>
      1. Click search bar or use command palette
      2. Type natural language query
      3. AI processes and interprets request
      4. Results displayed:
         - Single value: Shows answer prominently
         - List: Shows filtered transactions
         - Comparison: Shows chart visualization
      5. User can save query as custom report
    </natural_language_query_flow>

    <receipt_scanning_flow>
      1. Click receipt icon or drag-drop image
      2. Image uploaded, processing indicator shown
      3. AI extracts: merchant, amount, date, items
      4. Pre-fills transaction form
      5. AI suggests category based on merchant
      6. User reviews and adjusts if needed
      7. Receipt attached to saved transaction
    </receipt_scanning_flow>

    <dashboard_interaction>
      1. Overview cards show key metrics
      2. Click metric to drill down
      3. Budget bars show category status
      4. Click budget to see transactions
      5. Recent transactions with quick edit
      6. Swipe/click to categorize uncategorized
      7. AI insights panel with recommendations
      8. Quick actions for common tasks
    </dashboard_interaction>
  </key_interactions>

  <implementation_steps>
    <plugin_integration>
      **Throughout all implementation steps, actively use the frontend-design plugin to:**
      - Generate component boilerplate with proper structure
      - Implement responsive layouts following mobile-first approach
      - Add accessibility features automatically
      - Create consistent design patterns
      - Implement dark mode variants efficiently
      - Generate form validation UI
    </plugin_integration>

    <step number="1">
      <title>Setup Project Foundation and Database</title>
      <tasks>
        - Initialize Express server with SQLite database
        - Set up Claude API client for AI features
        - Create database schema with all tables
        - Implement user authentication endpoints
        - Set up CORS, middleware, and error handling
        - Create seed data with default categories
      </tasks>
    </step>

    <step number="2">
      <title>Build Core Transaction System</title>
      <tasks>
        - Create transaction CRUD endpoints
        - **USE PLUGIN: Build transaction list component with virtual scrolling**
        - **USE PLUGIN: Implement filtering and search UI components**
        - **USE PLUGIN: Add transaction form with validation and proper layout**
        - **USE PLUGIN: Create amount input with formatting and accessibility**
        - **USE PLUGIN: Build category selector component with proper UX**
        - **USE PLUGIN: Implement transaction editing with plugin-generated modals**
      </tasks>
    </step>

    <step number="3">
      <title>Implement AI Categorization</title>
      <tasks>
        - Create Claude API integration for categorization
        - Build categorization prompt engineering
        - Implement confidence scoring
        - **USE PLUGIN: Create category suggestions UI with AI indicators**
        - Build user correction feedback system
        - Implement bulk categorization endpoint
        - Create AI category mapping storage
      </tasks>
    </step>

    <step number="4">
      <title>Account Management</title>
      <tasks>
        - Build account CRUD endpoints
        - **USE PLUGIN: Create account list and cards UI**
        - **USE PLUGIN: Implement account type configuration forms**
        - Add balance tracking and reconciliation
        - **USE PLUGIN: Build transfer modal between accounts**
        - Create account filtering for transactions
      </tasks>
    </step>

    <step number="5">
      <title>Budget Management System</title>
      <tasks>
        - Create budget CRUD endpoints
        - **USE PLUGIN: Build budget list with progress bars**
        - Implement budget vs actual calculation
        - Add AI budget suggestions
        - **USE PLUGIN: Create budget alerts notification UI**
        - Build rollover functionality
        - Create budget history tracking
      </tasks>
    </step>

    <step number="6">
      <title>Dashboard and Visualizations</title>
      <tasks>
        - **USE PLUGIN: Build responsive dashboard layout with grid system**
        - **USE PLUGIN: Create financial overview cards with consistent styling**
        - **USE PLUGIN: Implement chart containers with proper responsive behavior**
        - Add income vs expense charts within plugin-generated layouts
        - **USE PLUGIN: Build trend visualizations with accessible labels**
        - **USE PLUGIN: Create budget progress widgets with proper structure**
        - **USE PLUGIN: Add recent transactions widget with optimized mobile view**
      </tasks>
    </step>

    <step number="7">
      <title>Savings Goals</title>
      <tasks>
        - Create goals CRUD endpoints
        - **USE PLUGIN: Build goal cards with circular progress indicators**
        - Implement contribution tracking
        - **USE PLUGIN: Add goal milestone notification UI**
        - Create projected completion calculator
        - **USE PLUGIN: Build goal allocation modal from transactions**
      </tasks>
    </step>

    <step number="8">
      <title>Recurring Transactions and Import</title>
      <tasks>
        - Build recurring transaction system
        - Implement AI pattern detection
        - **USE PLUGIN: Create bill reminders notification cards**
        - **USE PLUGIN: Build CSV import wizard with column mapping UI**
        - Add duplicate detection with preview
        - Implement batch AI categorization
        - **USE PLUGIN: Create import preview UI with validation feedback**
      </tasks>
    </step>

    <step number="9">
      <title>AI Insights and Natural Language</title>
      <tasks>
        - Build AI insights generation
        - Implement natural language query parsing
        - **USE PLUGIN: Create spending analysis report layouts**
        - Add anomaly detection
        - Build recommendation engine
        - **USE PLUGIN: Create insights dashboard widget with expandable details**
      </tasks>
    </step>

    <step number="10">
      <title>Reports and Analytics</title>
      <tasks>
        - Create comprehensive reports endpoints
        - **USE PLUGIN: Build spending reports UI with chart layouts**
        - **USE PLUGIN: Implement cash flow report with proper structure**
        - Add net worth tracking
        - **USE PLUGIN: Create custom date range picker for reports**
        - Build PDF export functionality
        - **USE PLUGIN: Add year-end summary cards and visualizations**
      </tasks>
    </step>

    <step number="11">
      <title>Notifications and Alerts</title>
      <tasks>
        - Build notification system
        - **USE PLUGIN: Implement budget alerts toast notifications**
        - **USE PLUGIN: Add bill reminders with action buttons**
        - **USE PLUGIN: Create notification preferences settings form**
        - **USE PLUGIN: Build notification center slide-over panel**
        - Add email notification hooks (mock)
      </tasks>
    </step>

    <step number="12">
      <title>Polish and Optimization</title>
      <tasks>
        - **USE PLUGIN: Optimize mobile responsiveness across all components**
        - **USE PLUGIN: Add keyboard shortcuts with accessibility guidance**
        - **USE PLUGIN: Implement dark mode using theme switching patterns**
        - **USE PLUGIN: Add comprehensive accessibility features (ARIA, focus management)**
        - Performance optimization
        - **USE PLUGIN: Create onboarding flow with step-by-step UI**
        - **USE PLUGIN: Add settings forms with proper validation UI**
      </tasks>
    </step>
  </implementation_steps>

  <success_criteria>
    <functionality>
      - AI categorization accuracy above 85%
      - Transaction CRUD operations fast and reliable
      - Budget tracking accurate and real-time
      - Import handles common CSV formats
      - Natural language queries return relevant results
      - All account types properly managed
    </functionality>

    <user_experience>
      - Transaction entry in under 10 seconds
      - Dashboard loads in under 2 seconds
      - AI categorization feels instant (<1s)
      - Intuitive navigation without training
      - Mobile experience fully functional
      - Clear feedback for all actions
    </user_experience>

    <technical_quality>
      - Clean, maintainable code structure
      - Proper error handling throughout
      - Secure API key management
      - Optimized database queries with indexes
      - Efficient AI API usage (batching)
      - Data validation on all inputs
    </technical_quality>

    <design_polish>
      - Consistent finance-focused visual design **generated via plugin**
      - Clear income/expense color coding
      - Beautiful charts and visualizations
      - Smooth animations and transitions **following plugin patterns**
      - Excellent contrast and accessibility **validated by plugin**
      - Dark mode fully implemented **using plugin theme system**
    </design_polish>

    <ai_features>
      - Accurate merchant recognition
      - Learning from user corrections
      - Helpful spending insights
      - Reliable pattern detection
      - Natural conversation for queries
      - Appropriate confidence indicators
    </ai_features>
  </success_criteria>
</project_specification>
